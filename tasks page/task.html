<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="task.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <title>Task View</title>
    <script>
      //Profile Picture
      document.addEventListener("DOMContentLoaded", function () {
        const photoURL = localStorage.getItem("photoURL");

        const profileIcon = document.getElementById("pfp");
        if (profileIcon) {
          // Create an image element
          const img = document.createElement("img");
          img.src = photoURL;
          img.alt = "Profile Picture";

          img.style.width = "40px";
          img.style.height = "40px";
          profileIcon.appendChild(img);

          profileIcon.addEventListener("click", function () {
            window.location.href = "../profile_view page/profile_view.html";
          });
        } else {
          console.error("Profile icon element not found");
        }
      });
    </script>
  </head>
  <body>
    <div class="header">
      <div class="header-left">
        <a href="../home page/homepage.html">Home</a>
        <a class="active" href="../tasks page/task.html">Task</a>
        <a href="../important page/important.html">Important</a>
        <a href="../assigned to me page/assigned.html">Assigned to me</a>
        <a href="../teams page/teams.html">Teams</a>
        <a href="../calendar view/calendar.html">Calendar</a>
      </div>
      <div class="header-right">
        <span class="material-symbols-outlined"> mail </span>
        <span id="pfp" class="material-symbols-outlined"> </span>
      </div>
    </div>

    <h1>
      Tasks<a href="making_task.html"><span class="add-task">+</span></a>
    </h1>

    <div class="box">
      <div class="inner-box"> 
        <div class="to-do">TO-DO</div>
        <div class="other-box" >
          <div class="inside-box" id = "todo-section">
            <div class="star-button">
              <a class="important_button" id="kid_star_button_1">
              <span class="material-symbols-outlined" id="kid_star_icon_1"
                ><style>
                  #kid_star_button {
                    font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
                  }
                  .filled {
                    font-variation-settings: "FILL" 1;
                  }
                  </style>
                  kid_star
                </span>
              </a>
            </div>
            <div class="name-bar">
              <span class="title-input"></span>
            </div>
          </div>
          <div class="teams">
            <div class="select">
              <div class="caret"></div>
            </div>
          </div>
        </div>
      </div>
      <ul class="dropdown">
        <li class="chosen">TO-DO</li>
        <li>IN PROGRESS</li>
        <li>FINISHED</li>
        <li>ARCHIVE</li>
      </ul>
    </div>
    </div>

    <div class="box">
      <div class="inner-box">
        <div class="in-progress">IN PROGRESS</div>
        <div class="other-box">
          <div class="inside-box" id = "in-progress-section">
            <div class="star-button">
              <a class="important_button" id="kid_star_button_2">
              <span class="material-symbols-outlined" id="kid_star_icon_2"
                ><style>
                  #kid_star_button {
                    font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
                  }
                  .filled {
                    font-variation-settings: "FILL" 1;
                  }
                  </style>
                  kid_star
                </span>
              </a>
            </div>
            <div class="name-bar">
              <span class="title-input"></span>
            </div>
          </div>
          <div class="teams">
            <div class="select">
              <div class="caret"></div>
            </div>
          </div>
        </div>
      </div>
      <ul class="dropdown">
        <li>TO-DO</li>
        <li class="chosen">IN PROGRESS</li>
        <li>FINISHED</li>
        <li>ARCHIVE</li>
      </ul>
    </div>

    <div class="box">
      <div class="inner-box">
        <div class="finished">FINISHED</div>
        <div class="other-box">
          <div class="inside-box" id = "finished-section">
            <div class="star-button">
              <a class="important_button" id="kid_star_button_3">
              <span class="material-symbols-outlined" id="kid_star_button_3"
                ><style>
                  #kid_star_button {
                    font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
                  }
                  .filled {
                    font-variation-settings: "FILL" 1;
                  }
                  </style>
                  kid_star
                </span>
              </a>
            </div>
            <div class="name-bar">
              <span class="title-input"></span>
            </div>
          </div>
          <div class="teams">
            <div class="select">
              <div class="caret"></div>
            </div>
          </div>
        </div>
      </div>
      <ul class="dropdown">
        <li>TO-DO</li>
        <li>IN PROGRESS</li>
        <li class="chosen">FINISHED</li>
        <li>ARCHIVE</li>
      </ul>
    </div>

    <script>
      const starButtons = document.querySelectorAll('.important_button');

    starButtons.forEach(button => {
      button.addEventListener('click', function() {
        const icon = button.querySelector('.material-symbols-outlined');
        icon.classList.toggle('filled');
      });
    });

    const carets = document.querySelectorAll('.caret');
    const menus = document.querySelectorAll(".dropdown");

    carets.forEach((caret, index) => {
      caret.addEventListener("click", () => {
        caret.classList.toggle('caret-rotate');
        menus[index].classList.toggle("menu-open");
      });
    });

    </script>
    <script type="module" src="./taskDD.js"></script>
  </body>
</html>
